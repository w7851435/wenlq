/*! LenovoID create date : 2016-01-14 16:23:31 */
var LID={};LID.Class={ajaxSend:function(a,b,c,d){var e=arguments[4]||"",f={type:a,url:b,data:e,success:c,error:d};$.ajax(f)},ajaxhttp:function(a,b,c){var d=arguments[3]||"",e={type:a,url:b,data:d,complete:c};$.ajax(e)},shuffleArray:function(a){for(var b,c,d=a.length;d;b=parseInt(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a},validEmail:function(a){var b=$("#"+a),c=b.find(".jsEmail"),d=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/;return b.find(".jsErrEEmpty, .jsErrEFormat, .jsErrEReged").removeClass("show"),b.find(".jsEOk").removeClass("ishow"),""==$.trim(c.val())?(b.find(".jsErrEEmpty").addClass("show"),!1):d.test($.trim(c.val()))?!0:(b.find(".jsErrEFormat").addClass("show"),!1)},validMobile:function(a){var b,c=$("#"+a),d=c.find(".jsMobile");return b="ldModAccInfo"==a?/^((\d{11})|(\d{12})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$)$/:/^[1][34578]\d{9}$/,c.find(".jsErrMEmpty, .jsErrMFormat, .jsErrMReged").removeClass("show"),c.find(".jsMOk").removeClass("ishow"),""==$.trim(d.val())?(c.find(".jsErrMEmpty").addClass("show"),!1):b.test($.trim(d.val()))?!0:(c.find(".jsErrMFormat").addClass("show"),!1)},validPassword:function(a){var b,c=$("#"+a);"ldModPass"==a?(b=c.find(".jsOldPass"),c.find(".jsErrOPEmpty").removeClass("show"),c.find(".jsErrOPFormat").removeClass("show")):(b=c.find(".jsPassword").length>1?c.find(".jsPassword").eq(-1):c.find(".jsPassword"),c.find(".jsErrPEmpty").removeClass("show"),c.find(".jsErrPFormat").removeClass("show"));var d=/^().{4,20}$/;return""==$.trim(b.val())||b.val()==b.attr("placeholder")?("ldModPass"==a?c.find(".jsErrOPEmpty").addClass("show"):c.find(".jsErrPEmpty").addClass("show"),!1):d.test(b.val())?!0:("ldModPass"==a?c.find(".jsErrOPFormat").addClass("show"):c.find(".jsErrPFormat").addClass("show"),!1)},validPassword2:function(a){var b=$("#"+a),c=b.find(".jsPassword"),d=b.find(".jsPassword2");b.find(".errMsg .jsErrCPEmpty, .errMsg .jsErrCPFormat, .errMsg .jsErrCPSecond").removeClass("show"),b.find(".jsCPOk").removeClass("ishow");return""==$.trim(d.val())?(b.find(".jsErrCPEmpty").addClass("show"),!1):$.trim(c.val())!=$.trim(d.val())?(b.find(".jsErrCPSecond").addClass("show"),b.find(".jsErrPSecond").addClass("show"),!1):(b.find(".jsCPOk").addClass("ishow"),!0)},validPasswordHigh:function(a){var b=$("#"+a),c=(arguments[1]||"",b.find(".jsPassword")),d=/(?!^(\d+|[a-zA-Z]+|[~!@#$%^&*?\.>\-\=\+<\(\),\[\];:/]+)$)^[\w~!@#$%^&*?\.>\-\=\+<\(\),\[\];:/]{8,20}$/;return b.find(".errMsg .jsErrPEmpty, .errMsg .jsErrPFormat").removeClass("show"),b.find(".jsPOk").removeClass("ishow"),""==$.trim(c.val())?(b.find(".jsErrPEmpty").addClass("show"),!1):d.test(c.val())?(b.find(".jsPOk").addClass("ishow"),!0):(b.find(".jsErrPFormat").addClass("show"),!1)},validUsername:function(a){var b=$("#"+a),c=b.find(".jsUsername"),d=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/,e=/^[1][34578]\d{9}$/;return b.find(".jsErrUFormat").removeClass("show"),b.find(".jsErrUEmpty").removeClass("show"),b.find(".jsOk").removeClass("ishow"),b.find(".jsErrOnotN").removeClass("show"),b.find(".jsErrExist").removeClass("show"),b.find(".jsErrEFormat").removeClass("show"),b.find(".jsErrMFormat").removeClass("show"),""==$.trim(c.val())?(b.find(".jsErrUEmpty").addClass("show"),!1):d.test($.trim(c.val()))||e.test($.trim(c.val()))?!0:(b.find(".jsErrUFormat").addClass("show"),!1)},validCapture:function(a){var b=$("#"+a),c=b.find(".jsInput_code");return b.find(".jsErrVEmpty").removeClass("show"),b.find(".jsErrSystem").removeClass("show"),""==$.trim(c.val())?(b.find(".jsErrVEmpty").addClass("show"),!1):$.trim(c.val().length)<4?(b.find(".jsErrVFormat").addClass("show"),!1):!0},validSMS:function(a){var b=$("#"+a),c=b.find(".jsCode");return b.find(".jsErrVSmsEmpty").removeClass("show"),b.find(".jsErrSystem").removeClass("show"),""==$.trim(c.val())?(b.find(".jsErrVSmsEmpty").addClass("show"),!1):$.trim(c.val().length)<4?(b.find(".jsErrVSmsFormat").addClass("show"),!1):!0},validMobileCode:function(a){var b=$("#"+a),c=b.find(".jsCode");return b.find(".jsErrV").removeClass("show"),b.find(".jsOk").removeClass("ishow"),""==$.trim(c.val())?(b.find(".jsErrVEmpty").addClass("show"),!1):!0},getQrCode:function(a){function b(){var a=new Date;return a.getTime()}for(var c=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],d="",e=0;a>e;e++){var f=Math.ceil(35*Math.random());d+=c[f]}return b()+d},qrCodeInit:function(a){var b=($("#"+a),$(".jsPath").val());window.QRkey="",window.DLkey="",window.QRkey=LID.Class.getQrCode(10),window.DLkey=LID.Class.getQrCode(10);var c=b+"/getQRImg?QRkey="+QRkey,d=b+"/getDLImg?DLkey="+DLkey;$("#ldLoginQrcode .jsQrImg").attr("src",c),$("#ldLightbox .jsQrImg").attr("src",d),LID.Class.ajaxSetTimeout("chk",!0)},encodeSms:function(){for(var a=$(".jsSNum").val().split(""),b=$(".jsSNum").val().split(""),c=LID.Class.shuffleArray(a),d=LID.Class.shuffleArray(b),e=[],f=0;10>f;f++)e.push(c.pop()),e.push(d.pop());return e.join("")},ajaxSetTimeout:function(a,b){function c(a,b){200==a.status&&4==a.readyState&&(LID.Class.ajaxSetTimeout("chk",!1),LID.Class.ajaxSetTimeout("rechk",!0),$("#ldLoginQrcode").hide(),$("#ldLoginQCSucc").show())}function d(a,b){var c=$(".jsPath").val();200==a.status&&4==a.readyState?(LID.Class.ajaxSetTimeout("rechk",!1),$(".jsLoginForm").attr("action",c+"/qrLogin?QRkey="+window.QRkey),$(".jsLoginForm").submit()):403==a.status&&4==a.readyState&&(LID.Class.ajaxSetTimeout("rechk",!1),$("#ldLoginForm").show(),$("#ldLoginQrcode").hide(),$("#ldLoginQCSucc").hide(),$(".errMsg li").removeClass("show"),$(".jsErrLoginQFail").addClass("show"),window.qrcode=!1)}var e="POST",f="checkQRState?QRkey="+window.QRkey,g="recheckQRState?QRkey="+window.QRkey,h=0;"chk"==a?b?window.fAjaxTime=setInterval(function(){h++,h>=200&&LID.Class.showLoginState(0,"ldLoginQrcode"),LID.Class.ajaxhttp(e,f,c)},3e3):clearInterval(window.fAjaxTime):b?window.fAjaxTime=setInterval(function(){h++,h>=200&&LID.Class.showLoginState(0,"ldLoginQrcode"),LID.Class.ajaxhttp(e,g,d)},3e3):clearInterval(window.fAjaxTime)},getQuery:function(a){var b,c=[],d=document.URL.split("?")[1];if(void 0!=d){d=d.split("&");for(var e=0;e<d.length;e++)b=d[e].split("="),c.push(b[1]),c[b[0]]=b[1]}return c[a]},getT:function(){for(var a="",b=new Date,c=b.getDate(),d=b.getHours(),e=b.getMinutes(),f=b.getSeconds(),g=b.getMilliseconds(),h=c+""+d+e+f+g,i=0;8>i;i++)a+=Math.floor(10*Math.random()+1);var j=h+""+a;return j.length>20&&(j=j.substring(0,20)),j},setCapture:function(a){var b=LID.Class.getT();a.find(".jsCInput").val(b);var c=location.protocol+"//"+location.host,d=c+"/capt/1.2/getimage?source=uss.test&t="+b;a.find(".jsCaptureImg").attr("src",d)}},LID.Module={chgLang:function(a){var b=$("#"+a),c=document.URL.split("?")[1];if(b.find("select").length>0){var d=b.find(".jsLangForm"),e=d.attr("action");c?d.attr("action",e+"?"+c):d.attr("action",e),b.find("select").change(function(){b.find(".jsInputLang").val(b.find("select option:selected").val()),d.submit()})}},bindValid:function(a){function b(a,b){function c(a){t=!0,i.find(".uNExist").addClass("ishow"),"email"==b?(u=!0,v=!0,x=!0,i.find(".jsSVC").removeClass("show"),i.find(".jsSVCSMS").removeClass("show")):(LID.Class.setCapture(i),i.find(".jsSVC").addClass("show"),i.find(".jsSVCSMS").addClass("show"),u=!1,v=!1,x=!1),i.find(".jsSubBtn").val(m),i.find(".jsSubBtn").attr("data-username",i.find(".jsUsername").val()),"weixin"==A?i.find(".jsSubForm").attr("action",i.find(".jsPath").val()+"/thirdWxRegBind"):i.find(".jsSubForm").attr("action",i.find(".jsPath").val()+"/thirdRegBind")}function d(a,c){403==a.status&&(alert(i.find(".jsError403").val()),location.href="/wauthen3/"),t=!1,u=!0,v=!0,x=!1,i.find(".uExist").addClass("ishow"),i.find(".jsSPass").addClass("show"),"email"==b?(i.find(".jsEBind").addClass("show"),i.find(".jsMBind").removeClass("show")):(i.find(".jsEBind").removeClass("show"),i.find(".jsMBind").addClass("show")),i.find(".jsSubBtn").val(n),i.find(".jsSubBtn").attr("data-username",i.find(".jsUsername").val()),"weixin"==A?i.find(".jsSubForm").attr("action",i.find(".jsPath").val()+"/thirdWxLoginBind"):i.find(".jsSubForm").attr("action",i.find(".jsPath").val()+"/thirdLoginBind")}e=o+"/ajaxUserExistedServlet?username="+$.trim(a),i.find(".jsEBind").removeClass("show"),i.find(".jsMBind").removeClass("show"),i.find(".jsSPass").removeClass("show"),i.find(".jsSPass").removeClass("show"),i.find(".jsSVCSMS").removeClass("show"),i.find(".jsSVC").removeClass("show"),LID.Class.ajaxSend(l,e,c,d)}function c(){return g-=1,0>=g?(clearInterval(f),q.val(r),void q.removeAttr("disabled","disabled")):void q.val(r+" "+g)}function d(a){return""==$.trim(i.find(".jsVCInput").val())?(i.find(".jsErrVSmsEmpty").addClass("show"),i.find(".jsErrVSmsFormat").removeClass("show"),!1):(i.find(".jsErrVSmsEmpty").removeClass("show"),i.find(".jsErrVSmsFormat").removeClass("show"),!0)}var e,f,g,h,i=$("#"+a),j=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/,k=!1,l="POST",m=i.find(".jsRnB").val(),n=i.find(".jsBind").val(),o=i.find(".jsPath").val(),p=60,q=i.find(".jsVCBtn"),r=q.val(),k=!1,s=!1,t=!0,u=!0,v=!0,w=!1,x=!1,y=!1,g=0,z=!1,A=i.find("input[name=thirdName]").val();i.find(".jsUsername").blur(function(c){i.find(".errMsg li").removeClass("ishow, show"),i.find(".uNExist").removeClass("ishow"),i.find(".uExist").removeClass("ishow"),k=LID.Class.validUsername(a),k&&(j.test($.trim($(this).val()))?b($(this).val(),"email"):b($(this).val(),"phone"))}),i.find(".jsInput_code").blur(function(b){s=LID.Class.validCapture(a)}),i.find(".jsPassword").blur(function(b){t=LID.Class.validPassword(a)}),i.find(".jsCReset").click(function(a){LID.Class.setCapture(i)}),i.find(".jsVCBtn").click(function(a){function b(a,b){403==a.status&&(alert(i.find(".jsError403").val()),location.href="/wauthen3/"),LID.Class.setCapture(i),i.find(".jsInput_code").val(""),clearInterval(f),q.val(r),q.removeAttr("disabled","disabled"),v=!1,z=!1}function d(a){var b="";b="string"==typeof a?JSON.parse(a):a;var c=b.resultCode;1==c?(i.find(".jsErrVFormat").removeClass("show"),v=!0,z?i.find(".jsSubForm").submit():z=!1):(v=!1,LID.Class.setCapture(i),i.find(".jsInput_code").val(""),i.find(".jsErrVFormat").addClass("show"),clearInterval(f),q.val(r),q.removeAttr("disabled","disabled"))}if(i.find(".jsInput_code").blur(),s){i.find(".jsOk").removeClass("ishow"),$(this).attr("disabled","disabled"),i.find(".jsVCInput").val(""),h=o+"/ajaxSendVC2?msidsn="+$.trim(i.find(".jsUsername").val());var e="type=1&snum="+LID.Class.encodeSms()+"&skey="+$(".jsSNum").val()+"&c="+i.find(".jsInput_code").val()+"&t="+i.find(".jsCInput").val();LID.Class.ajaxSend(l,h,d,b,e),g=p,f=setInterval(c,1e3)}}),i.find(".jsVCInput").blur(function(b){if(u=d(a),!y){y=!0,v=!0;setTimeout(function(){y=!1},1e3)}}),i.find(".jsSubBtn").mousedown(function(a){i.find(".jsSubForm").submit()}),i.find(".jsSubForm").submit(function(b){return x&&0==g?(g++,b.preventDefault(),!1):(t||(t=LID.Class.validPassword(a)),k&&i.find(".jsUsername").val()===i.find(".jsSubBtn").attr("data-username")||i.find(".jsUsername").blur(),k&&t&&u&&v?i.find(".jsUsername").val()!==i.find(".jsSubBtn").attr("data-username")?(b.preventDefault(),!1):w?(b.preventDefault(),!1):void(w=!0):(u&&v||(z=!0,i.find(".jsVCInput").blur()),b.preventDefault(),!1))})},loginValid:function(a){var b=$("#"+a),c=$(".jsIsNeedPic").val(),d=!1,e=!1,f=!1;window.qrcode=!1;var g=!1;b.find(".jsUsername").blur(function(c){b.find(".jsErrSystem").removeClass("show"),d=LID.Class.validUsername(a)}),b.find(".jsPassword").length>1?b.find(".jsPassword").eq(-1).blur(function(c){b.find(".jsErrSystem").removeClass("show"),e=LID.Class.validPassword(a)}):b.find(".jsPassword").eq(0).blur(function(c){b.find(".jsErrSystem").removeClass("show"),e=LID.Class.validPassword(a)}),b.find(".jsInput_code").blur(function(c){b.find(".jsErrSystem").removeClass("show"),f=LID.Class.validCapture(a)}),b.find(".jsSubBtn").mousedown(function(a){$(".jsLoginForm").submit()}),$(".jsLoginForm").submit(function(b){if(d=LID.Class.validUsername(a),e=LID.Class.validPassword(a),!window.qrcode){if(!d||!e)return b.preventDefault(),!1;if("1"==c&&(f=LID.Class.validCapture(a),!f))return b.preventDefault(),!1}return g?(b.preventDefault(),!1):void(g=!0)}),LID.Class.setCapture(b),"1"==c?b.find(".jsCapture").addClass("show"):b.find(".jsCapture").removeClass("show"),b.find(".jsCReset").click(function(a){setCapture()})},thirdLogin:function(a){var b=$("#"+a),c=LID.Class.getQuery("lenovoid.thirdname");if(c&&"null"!=c&&0!=c)switch(c){case"qqsns":window.location.href=b.find(".jsTripartite a").eq(0).attr("href");break;case"sina":window.location.href=b.find(".jsTripartite a").eq(1).attr("href")}},iloginOther:function(a){var b=$("#"+a),c=document.URL.split("?")[1];b.find(".jsUsername, .jsPassword").focusin(function(a){$(this).closest("div").addClass("focus")}).focusout(function(a){$(this).closest("div").removeClass("focus")}),b.find(".jsInput_code").focusin(function(a){$(this).closest("div").addClass("focusc")}).focusout(function(a){$(this).closest("div").removeClass("focusc")}),b.find(".jsTQQ").click(function(a){window.parent.LID.Module.iLoginQQ(c)}),b.find(".jsTSina").click(function(a){window.parent.LID.Module.iLoginSina(c)}),b.find(".jsRegister").click(function(a){$(".jsLoginForm").hide(),$("#ldRegistMobileFormi").show(),window.parent.LID.Module.iTitle($(this).val()),window.parent.LID.Module.iHeight($("body").height())}),window.parent.LID.Module.iTitle(b.find(".jsSubBtn").val()),window.parent.LID.Module.iHeight($("body").height())},iloginValid:function(a){function b(a,b){l=!1,e(),alert("网络超时，请稍后再试"),f.find(".jsSubBtn").removeAttr("disabled")}function c(a){var b="";$(".jsLoginForm")[0].reset(),l=!1,b="string"==typeof a?JSON.parse(a):a,1==b.result?window.parent.LID.Module.iLpsust(b.lpsust):(e(),1==b.isNeedPic?(f.find(".jsCapture").addClass("show"),$(".jsIsNeedPic").val(b.isNeedPic),window.parent.LID.Module.iHeight($("body").height())):(f.find(".jsCapture").removeClass("show"),$(".jsIsNeedPic").val(0)),f.find(".jsErrAjax").text(b.errorMsg)),f.find(".jsSubBtn").removeAttr("disabled")}function d(){for(var a="",b=new Date,c=b.getDate(),d=b.getHours(),e=b.getMinutes(),f=b.getSeconds(),g=b.getMilliseconds(),h=c+""+d+e+f+g,i=0;8>i;i++)a+=Math.floor(10*Math.random()+1);var j=h+""+a;return j.length>20&&(j=j.substring(0,20)),j}function e(){var a=d();t=a,f.find(".jsCInput").val(a);var b=location.protocol+"//"+location.host,c=b+"/capt/1.2/getimage?source=uss.test&t="+a;f.find(".jsCaptureImg").attr("src",c)}var f=$("#"+a),g=$(".jsIsNeedPic").val(),h=!1,i=!1,j=!1;window.qrcode=!1;var k,l=!1,m=f.find(".jsUser"),n=f.find(".jsPass"),o=f.find(".jsCapture .fleft").eq(0);f.find(".jsSubBtn").prop("onclick",null);var p=function(a){var b=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/,c=/^[1][34578]\d{9}$/;return m.removeClass("error"),""==$.trim(a.val())||!b.test($.trim(a.val()))&&!c.test($.trim(a.val()))?(m.addClass("error"),!1):!0},q=function(a){var b=/^().{4,20}$/;return n.removeClass("error"),a.length>1&&(a=a.eq(-1)),""!=$.trim(a.val())&&a.val()!=a.attr("placeholder")&&b.test(a.val())?!0:(n.addClass("error"),!1)},r=function(a){var b=/^\d{4}.*/;return o.removeClass("errorc"),""!=$.trim(a.val())&&b.test(a.val())?!0:(o.addClass("errorc"),!1)};f.find(".jsUsername").blur(function(a){h=p($(this))}),f.find(".jsPassword").blur(function(a){i=q($(this))}),f.find(".jsInput_code").blur(function(a){j=r($(this))}),f.find(".jsSubBtn").mousedown(function(a){}),k=LID.Class.getQuery("lenovoid.realm"),k&&("#"==k.slice(-1)&&(k=k.slice(0,-1)),$('input[name="lenovoid.realm"]').val(k)),$(".jsLoginForm").submit(function(a){var d="POST",e=$(this).attr("action"),k=$(this).serialize();return a.preventDefault(),h=p(f.find(".jsUsername")),i=q(f.find(".jsPassword")),h&&i&&("1"!=g||(j=r(f.find(".jsInput_code")),window.parent.LID.Module.iHeight($("body").height()),j))?l?!1:(l=!0,LID.Class.ajaxSend(d,e,c,b,k),f.find(".jsSubBtn").attr({disabled:"disabled"}),void f.find(".jsErrAjax").text("")):!1}),e(),"1"==g?f.find(".jsCapture").addClass("show"):f.find(".jsCapture").removeClass("show"),f.find(".jsCReset").click(function(a){e()})},forgetPassValid:function(a){function b(a){function b(a){d.find(".jsErrUNExist").addClass("show"),d.find(".jsUserExist").removeClass("ishow"),h=!1}function g(a,b){403==a.status&&(alert(d.find(".jsError403").val()),location.href="/wauthen3/"),d.find(".jsUserExist").addClass("ishow"),d.find(".jsErrUNExist").removeClass("show"),h=!0}c=d.find(".jsPath").val()+"/ajaxUserExistedServlet?username="+$.trim(a),!f&&h&&(d.find(".jsErrUNExist").removeClass("show"),d.find(".jsUserExist").removeClass("ishow")),LID.Class.ajaxSend(e,c,b,g)}var c,d=$("#"+a),e="POST",f=!1,g=!1,h=!1,i=!1;d.find(".jsUsername").blur(function(c){f=LID.Class.validUsername(a),f||d.find(".jsErrUNExist").removeClass("show"),f&&b($(this).val())}),d.find(".jsInput_code").blur(function(b){g=LID.Class.validCapture(a)}),d.find(".jsSubBtn").mousedown(function(a){d.find(".jsForgetForm").submit()}),d.find(".jsForgetForm").submit(function(b){return d.find(".jsUsername").blur(),g=LID.Class.validCapture(a),f&&g&&h?i?(b.preventDefault(),!1):void(i=!0):(b.preventDefault(),!1)}),LID.Class.setCapture(d),d.find(".jsCReset").click(function(a){LID.Class.setCapture(d)})},modAccInfoValid:function(a){function b(a){var b=$("#"+a),c=b.find(".jsFirstname");return""==$.trim(c.val())?(c.closest("li").find("b").hide(),b.find(".jsErrNEmpty").show(),!1):(c.closest("li").find("b").show(),b.find(".jsErrNEmpty").hide(),!0)}var c=$("#"+a),d=!1,e=!1,f=!1,g=!1;c.find(".jsFirstname").blur(function(c){d=b(a)}),c.find(".jsMobile").blur(function(b){e=LID.Class.validMobile(a),e?$(this).closest("li").find("b").show():$(this).closest("li").find("b").hide()}),c.find(".jsEmail").blur(function(b){f=LID.Class.validEmail(a),f?$(this).closest("li").find("b").show():$(this).closest("li").find("b").hide()}),c.find(".jsSubBtn").mousedown(function(a){c.find(".jsModInfoForm").submit()}),c.find(".jsModInfoForm").submit(function(h){return d=b(a),e=LID.Class.validMobile(a),f=LID.Class.validEmail(a),d&&e&&f?(c.find(".sSex input[type=radio]:checked").length<1&&c.find(".sSex input[type=radio]").eq(0).attr("checked","checked"),g?(h.preventDefault(),!1):void(g=!0)):(h.preventDefault(),!1)}),lenovoUkiAddress()},validPassMobile:function(a){function b(){return h-=1,0>=h?(clearInterval(i),s.val(t),void s.removeAttr("disabled","disabled")):void s.val(t+" "+h)}function c(){alert("网络连接超时,请稍后重试...\nConnection Timeout, Please try again later...")}function d(a){}function e(a){return j.find(".jsErrVEmpty").removeClass("show"),j.find(".jsErrVFormat").removeClass("show"),""==$.trim(j.find(".jsVCInput").val())?(j.find(".jsErrVEmpty").addClass("show"),!1):!0}function f(a,b){403==a.status&&(alert(j.find(".jsError403").val()),location.href="/wauthen3/"),j.find(".jsOk").removeClass("ishow"),j.find(".jsErrVFormat").addClass("show"),l=!1,m=!1}function g(a){j.find(".jsOk").addClass("ishow"),j.find(".jsErrVFormat").removeClass("show"),l=!0,m?j.find(".jsformSub").submit():m=!1}var h,i,j=$("#"+a),k=!1,l=!1,m=!1,n=60,o="POST",p=j.find(".jsPath").val(),q=p+"/resendResetPwdVC",r="username="+j.find(".jsUsername").val()+"&snum="+LID.Class.encodeSms()+"&skey="+$(".jsSNum").val(),s=j.find(".jsVCBtn"),t=s.val(),u=!1;j.find(".jsVCBtn").click(function(a){a.preventDefault(),j.find(".jsOk").removeClass("ishow"),$(this).attr("disabled","disabled"),j.find(".jsVCInput").val(""),LID.Class.ajaxSend(o,q,d,c,r),h=n,i=setInterval(b,1e3)}),j.find(".jsVCInput").blur(function(b){if(k=e(a)){var c=p+"/ajaxCheckVCServlet?msidsn="+$.trim(j.find(".jsUsername").val()),d="type=2&code="+$(this).val();LID.Class.ajaxSend(o,c,g,f,d)}}),j.find(".jsSubBtn").mousedown(function(a){j.find(".jsformSub").submit()}),j.find(".jsformSub").submit(function(a){return k&&l?u?(a.preventDefault(),!1):void(u=!0):(m=!0,j.find(".jsVCInput").blur(),a.preventDefault(),!1)}),s.attr("disabled","disabled"),h=n,i=setInterval(b,1e3)},validRePassNew:function(a){var b=$("#"+a),c=!1,d=!1,e=!1;b.find(".jsPassword").blur(function(d){b.find(".jsErrSystem").removeClass("show"),c=LID.Class.validPasswordHigh(a)}),b.find(".jsPassRe").blur(function(a){b.find(".jsErrSystem").removeClass("show"),b.find(".jsErrRPEmpty").removeClass("show"),b.find(".jsErrPReChk").removeClass("show"),""==$.trim($(this).val())?(b.find(".jsErrRPEmpty").addClass("show"),d=!1):b.find(".jsPassword").val()!==$(this).val()?(b.find(".jsErrPReChk").addClass("show"),d=!1):d=!0}),b.find(".jsSubBtn").mousedown(function(a){$(".jsformSub").submit()}),b.find(".jsPassword, .jsPassRe").bind("cut copy paste",function(a){a.preventDefault()}),b.find(".jsformSub").submit(function(f){return c=LID.Class.validPasswordHigh(a),b.find(".jsPassRe").blur(),c&&d?e?(f.preventDefault(),!1):void(e=!0):(f.preventDefault(),!1)})},validModPass:function(a){var b=$("#"+a),c=!1,d=!1,e=!1,f=!1;b.find(".jsOldPass").blur(function(d){b.find(".jsErrSystem").removeClass("show"),c=LID.Class.validPassword(a)}),b.find(".jsPassword").blur(function(c){b.find(".jsErrSystem").removeClass("show"),d=LID.Class.validPasswordHigh(a)}),b.find(".jsPassRe").blur(function(a){b.find(".jsErrSystem").removeClass("show"),b.find(".jsErrRPEmpty").removeClass("show"),b.find(".jsErrPReChk").removeClass("show"),""==$.trim($(this).val())?(b.find(".jsErrRPEmpty").addClass("show"),e=!1):b.find(".jsPassword").val()!==$(this).val()?(b.find(".jsErrPReChk").addClass("show"),e=!1):e=!0}),b.find(".jsSubBtn").mousedown(function(a){$(".jsformSub").submit()}),b.find(".jsOldPass, .jsPassword, .jsPassRe").bind("cut copy paste",function(a){a.preventDefault()}),b.find(".jsformSub").submit(function(g){return c=LID.Class.validPassword(a),d=LID.Class.validPasswordHigh(a),b.find(".jsPassRe").blur(),d&&e&&c?f?(g.preventDefault(),!1):void(f=!0):(g.preventDefault(),!1)})},displayThirdparty:function(a){var b=$("#"+a),c=(b.find(".jsTparty"),b.find(".tripartite"));b.find(".jsTparty, .jsTripartite").bind("mouseenter",function(){c.addClass("show")}).bind("mouseleave",function(){c.removeClass("show")})},addRegisterUrl:function(a){var b=$("#"+a),c=$(".jsUrlRegister").val(),d=$(".jsRePwd").attr("href"),e=document.URL.split("?")[1];"uilogin"==LID.Class.getQuery("lenovoid.action")||"newaccount"==LID.Class.getQuery("lenovoid.action")||"resetpassword"==LID.Class.getQuery("lenovoid.action")?(b.find("#register").attr("href",c+"?"+e),b.find(".jsRePwd").attr("href",d+"?"+e),b.find(".jsTripartite a").each(function(){sUrlTmp=$(this).attr("href"),$(this).attr("href",sUrlTmp+"&"+e)})):b.find("#register").attr("href",c)},displayQrCode:function(a){var b=$("#"+a);b.find(".jsQrCode").click(function(c){window.qrcode=!0,c.preventDefault(),$("#ldLoginQrcode").length>0&&(b.hide(),LID.Class.qrCodeInit(a),$("#ldLoginQrcode").show())})},displayLoginForm:function(a){var b=$("#"+a);b.find(".jsLdPC").click(function(a){a.preventDefault(),window.qrcode=!0,LID.Class.ajaxSetTimeout("chk",!1),$("#ldLoginForm").length>0&&(b.hide(),$("#ldLoginForm").show())})},displayLightBox:function(a){var b=$("#"+a);b.find(".bd .txt a").prop("onclick",null),b.find(".bd .txt a").click(function(a){a.preventDefault(),a.stopPropagation(),$("#ldLightbox").length>0&&$("#ldLightbox").show()})},closeLightBox:function(a){var b=$("#"+a);b.find(".hd .jsLbClose, .ldMask").click(function(a){a.preventDefault(),b.hide()})},chkThirdParty:function(a){function b(){}function c(a){var b="";b="string"==typeof a?JSON.parse(a):a;var c=b.sina,d=b.qqsns;null!=c&&(g.find(".liSinaUnbind").show(),g.find(".liSinaBind").hide(),g.find(".jsWeiboName").html(c[0].screenName),l=c[0].tid),null!=d&&(g.find(".liQQUnbind").show(),g.find(".liQQBind").hide(),g.find(".jsQQName").html(d[0].screenName),m=d[0].tid)}function d(){alert("网络连接超时,请稍后重试...\nConnection Timeout, Please try again later...")}function e(){g.find(".jsLiQQBind").show(),g.find(".jsLiQQUnbind").hide(),$("#ldThirdLightbox").hide(),$("#ldThirdLightbox .jsLbQQ, #ldThirdLightbox .jsLbSina").hide()}function f(){g.find(".jsLiSinaBind").show(),g.find(".jsLiSinaUnbind").hide(),$("#ldThirdLightbox").hide(),$("#ldThirdLightbox .jsLbQQ, #ldThirdLightbox .jsLbSina").hide()}var g=$("#"+a),h="POST",i=g.find(".jsPath").val()+"/ajaxGetThirdList",j=g.find(".jsPath").val()+"/ajaxUnbindThird",k="lpstgt="+g.find(".jsLpstgt").val(),l="",m="";LID.Class.ajaxSend(h,i,c,b,k),g.find(".jsQQUnbind").click(function(a){a.preventDefault(),$("#ldThirdLightbox").show(),$("#ldThirdLightbox .jsLbQQ").show()}),g.find(".jsWeiBoUnbind").click(function(a){a.preventDefault(),$("#ldThirdLightbox").show(),$("#ldThirdLightbox .jsLbSina").show()}),$("#ldThirdLightbox .jsLbClose, #ldThirdLightbox .ldMask").click(function(a){$("#ldThirdLightbox").hide(),$("#ldThirdLightbox .jsLbQQ, #ldThirdLightbox .jsLbSina").hide()}),$(".jsQQUnbindBtn").bind("click",function(a){a.preventDefault();var c="lpstgt="+g.find(".jsLpstgt").val()+"&thirdName=qqsns&tid="+m;LID.Class.ajaxSend(h,j,e,b,c)}),$(".jsSinaUnbindBtn").bind("click",function(a){a.preventDefault();var b="lpstgt="+g.find(".jsLpstgt").val()+"&thirdName=sina&tid="+l;LID.Class.ajaxSend(h,j,f,d,b)})},chkThirdError:function(a){var b=$("#"+a);b.find(".jsThirdError").length&&alert(b.find(".jsThirdError").val())},crossdomainLogout:function(a){var b=$(".jsCrossDomainLogin").val();if(null!=b&&""!=b&&"null"!=b){var c=b.split(",");$("body").append('<div class="csdc" style="display:none;""></div>');for(var d=0;d<c.length;d++){var e=c[d],f=document.createElement("img");f.src="http://"+e+"/wauthen2/crossDomainLogout",$(".csdc").append(f)}}},crossdomainLogin:function(a){var b=$("#"+a),c=$(".jsCrossdomainLogin").val();if(null!=c&&""!=c&&"null"!=c){var d=c.split(","),e=b.find(".jsLpstgt").val(),f=b.find(".jsUsername").val(),g=b.find(".jsAutoLoginState").val();$("body").append('<div class="csdc" style="display:none;"></div>');for(var h=0;h<d.length;h++){var i=d[h],j=document.createElement("img");j.src="http://"+i+"/wauthen2/crossDomainLogin?lpstgt="+e+"&username="+f+"&autoLoginState="+g,$(".csdc").append(j)}}},openUrl:function(a){var b=$("#"+a),c=b.find(".jsEmail").val();b.find(".jsLoginEmail").click(function(a){window.open(c,"_blank")})},reSendEmail:function(a){function b(){return e-=1,0>=e?(clearInterval(f),g.find(".jsTimeLeft").text(e),g.find(".jsTxtReSend").show(),void g.find(".jsTxtWait").hide()):void g.find(".jsTimeLeft").text(e)}function c(){alert("网络连接超时,请稍后重试...\nConnection Timeout, Please try again later...")}function d(a){}var e,f,g=$("#"+a),h=60,i="POST",j=g.find(".jsPath").val(),k=g.find(".jsUsername").val(),l=g.find(".jsAction").val(),m=g.find(".jsRealm").val(),n=g.find(".jsCtx").val(),o=g.find(".jsLang").val(),p=g.find(".jsUinfo").val(),q=g.find(".jsCb").val(),r=g.find(".jsVb").val(),s=g.find(".jsDisplay").val(),t=g.find(".jsIdp").val(),u=g.find(".jsSource").val(),v=j+"/resendResetPwdVC?lenovoid.action="+l+"&lenovoid.realm="+m+"&lenovoid.ctx="+n+"&lenovoid.lang="+o+"&lenovoid.uinfo="+p+"&lenovoid.cb="+q+"&lenovoid.vb="+r+"&lenovoid.display="+s+"&lenovoid.idp="+t+"&lenovoid.source="+u,w="username="+k+"&snum="+LID.Class.encodeSms()+"&skey="+$(".jsSNum").val();g.find("li.jsReSend a").prop("onclick",null),g.find("li.jsReSend a").click(function(a){a.preventDefault(),LID.Class.ajaxSend(i,v,d,c,w),g.find(".jsTxtReSend").hide(),g.find(".jsTxtWait").show(),e=h,g.find(".jsTimeLeft").text(e),f=setInterval(b,1e3)})},redirectAcc:function(a){function b(){return c-=1,0>=c?(clearInterval(d),e.find(".jsSec").text(c),void e.find(".jsSubForm").submit()):void e.find(".jsSec").text(c)}var c,d,e=$("#"+a),f=3;e.find(".jsManual a").prop("onclick",null),e.find(".jsManual a").click(function(a){a.preventDefault(),e.find(".jsSubForm").submit()}),c=f,e.find(".jsSec").text(c),d=setInterval(b,1e3)},iregistMobileOther:function(a){var b=$("#"+a);b.find(".jsMobile, .jsPassword, .jsPassword2, .jsCode, .jsCapt").focusin(function(a){$(this).hasClass("jsCode")||$(this).hasClass("jsCapt")?$(this).closest("div").addClass("focus"):$(this).closest("li").addClass("focus")}).focusout(function(a){$(this).hasClass("jsCode")||$(this).hasClass("jsCapt")?$(this).closest("div").removeClass("focus"):$(this).closest("li").removeClass("focus")}),LID.Class.setCapture(b),b.find(".jsCReset").click(function(a){LID.Class.setCapture(b)}),b.find(".jsURight").click(function(a){window.parent.LID.Module.iRedirect(b.find(".jsURightTxt").val())}),b.find(".jsPrivacy").click(function(a){window.parent.LID.Module.iRedirect(b.find(".jsPrivacyTxt").val())}),b.find(".jsLogin").click(function(a){var c=$(".jsIsNeedPic").val();b.hide(),$(".jsLoginForm").show(),window.parent.LID.Module.iTitle($(this).text()),1==c?window.parent.LID.Module.iHeight($("body").height()):window.parent.LID.Module.iHeight($("body").height())})},iregistMobileValid:function(a){function b(a,b){k=!1,alert("网络超时，请稍后再试"),f.find(".jsRegistForm").removeAttr("disabled")}function c(a){var b="";k=!1,b="string"==typeof a?JSON.parse(a):a,1==b.result?window.parent.LID.Module.iLpsust(b.lpsust):f.find(".jsErrAjax").text(b.errorMsg),f.find(".jsRegistForm")[0].reset(),e=setInterval(function(a){f.find(".jsSubBtn").removeAttr("disabled"),clearInterval(e)},2e3)}var d,e,f=$("#"+a),g=!1,h=!1,i=!1,j=!1,k=!1,l=f.find(".jsUser"),m=f.find(".jsPass"),n=f.find(".jsPass2"),o=f.find(".jsSmsCode"),p=f.find(".jsCapture"),q=f.find(".jsCodebutton"),r=f.find(".jsCodebutton2"),s=r.val(),t=60,u="POST",v=!1,w=function(a){var b=/^[1][34578]\d{9}$/;return l.removeClass("error"),""!=$.trim(a.val())&&b.test($.trim(a.val()))?!0:(l.addClass("error"),!1)},x=function(a){var b=/^().{4,20}$/;return m.removeClass("error"),a.length>1&&(a=a.eq(-1)),""!=$.trim(a.val())&&a.val()!=a.attr("placeholder")&&b.test(a.val())?!0:(m.addClass("error"),!1)},y=function(a){n.removeClass("error");var b=f.find(".jsPassword");return a.length>1&&(a=a.eq(-1)),a.val()!==b.eq(-1).val()||""==$.trim(a.eq(-1).val())?(n.addClass("error"),!1):!0},z=function(a){return p.removeClass("error"),""==$.trim(a.val())?(p.addClass("error"),!1):!0},A=function(a){return o.removeClass("error"),""==$.trim(a.val())?(o.addClass("error"),!1):!0};f.find(".jsMobile").blur(function(a){g=w($(this))}),f.find(".jsPassword").blur(function(a){h=x($(this))}),f.find(".jsPassword2").blur(function(a){i=y($(this))}),f.find(".jsCode").blur(function(a){bSChk=A($(this))}),f.find(".jsCapt").blur(function(a){j=z($(this))}),f.find(".jsCodebutton").click(function(a){function b(a){var b="";b="string"==typeof a?JSON.parse(a):a;var c=b.resultCode;1==c?(v=!0,p.removeClass("error"),f.find(".jsErrAjax").text("")):2==c?(LID.Class.setCapture(f),f.find(".jsErrAjax").text(f.find(".jsErrMReged").val()),f.find(".jsCapt").val(""),p.addClass("error"),clearInterval(fCounter),q.val(s),q.removeAttr("disabled","disabled")):(LID.Class.setCapture(f),f.find(".jsErrAjax").text(b.errorInfo),f.find(".jsCapt").val(""),p.addClass("error"),clearInterval(fCounter),q.val(s),q.removeAttr("disabled","disabled"))}function c(a,b){LID.Class.setCapture(f),f.find(".jsCapt").text(""),403==a.status?alert(f.find(".jsError403").val()):alert("网络连接超时,请稍后重试...\nConnection Timeout, Please try again later...")}function e(){return d-=1,0>=d?(clearInterval(fCounter),q.val(s),void q.removeAttr("disabled","disabled")):void q.val(s+" "+d)}if(a.preventDefault(),l.removeClass("error"),m.removeClass("error"),n.removeClass("error"),p.removeClass("error"),o.removeClass("error"),j=z(f.find(".jsCapt")),f.find(".jsMobile").blur()&&g&&j){$(this).attr("disabled","disabled");var h="type=1&snum="+LID.Class.encodeSms()+"&skey="+$(".jsSNum").val()+"&c="+f.find(".jsCapt").val()+"&t="+f.find(".jsCInput").val()+"&iframe=1";sUrl=f.find(".jsPath").val()+"/ajaxSendVC2?msidsn="+$.trim(f.find(".jsMobile").val()),LID.Class.ajaxSend(u,sUrl,b,c,h),d=t,fCounter=setInterval(e,1e3)}}),f.find(".jsRegistForm").submit(function(a){var d="POST",e=$(this).attr("action"),l=$(this).serialize();return a.preventDefault(),h=x(f.find(".jsPassword")),i=y(f.find(".jsPassword2")),
g=w(f.find(".jsMobile")),bSChk=A(f.find(".jsCode")),j=z(f.find(".jsCapt")),g&&h&&i&&bSChk&&j?k?!1:(k=!0,LID.Class.ajaxSend(d,e,c,b,l),f.find(".jsSubBtn").attr({disabled:"disabled"}),f.find(".jsErrAjax").text(""),clearInterval(fCounter),q.val(s),void q.removeAttr("disabled","disabled")):(f.find(".jsErrAjax").text(f.find(".jsInputError").val()),!1)})},registMobileValid:function(a){function b(a){function b(a){i.find(".jsErrMReged").removeClass("show"),i.find(".jsErrMEmpty").removeClass("show"),i.find(".jsErrMFormat").removeClass("show"),i.find(".jsMOk").addClass("ishow"),q=!0}function c(a,b){403==a.status&&(alert(i.find(".jsError403").val()),location.href="/wauthen3/"),i.find(".jsMOk").removeClass("ishow"),i.find(".jsErrMEmpty").removeClass("show"),i.find(".jsErrMFormat").removeClass("show"),i.find(".jsErrMReged").addClass("show"),q=!1}return f=p+"/ajaxUserExistedServlet?username="+$.trim(a),LID.Class.ajaxSend(o,f,b,c),q}function c(a){var b="";b="string"==typeof a?JSON.parse(a):a;var c=b.resultCode;1==c?i.find(".jsErrVFormat").removeClass("show"):(LID.Class.setCapture(i),i.find(".jsInput_code").val(""),i.find(".jsErrVFormat").addClass("show"),clearInterval(h),s.val(u),s.removeAttr("disabled","disabled"))}function d(a,b){403==a.status&&(alert(i.find(".jsError403").val()),location.href="/wauthen3/"),LID.Class.setCapture(i),i.find(".jsErrVFormat").removeClass("show"),clearInterval(h),s.val(u),s.removeAttr("disabled","disabled")}function e(){return g-=1,0>=g?(clearInterval(h),s.val(u),void s.removeAttr("disabled","disabled")):void s.val(u+" "+g)}var f,g,h,i=$("#"+a),j=!1,k=!1,l=!1,m=!1,n=!1,o="POST",p=i.find(".jsPath").val(),q=!1,r=60,s=i.find(".jsCodebutton"),t=i.find(".jsCodebutton2"),u=t.val(),v=!1;LID.Class.setCapture(i),i.find(".jsCReset").click(function(a){LID.Class.setCapture(i)}),i.find(".jsCodebutton").click(function(a){if(i.find(".jsMobile").blur()&&q){if(i.find(".jsInput_code").blur(),!m)return;i.find(".jsOk").removeClass("ishow"),$(this).attr("disabled","disabled");var b="type=1&snum="+LID.Class.encodeSms()+"&skey="+i.find(".jsSNum").val()+"&c="+i.find(".jsInput_code").val()+"&t="+i.find(".jsCInput").val();f=i.find(".jsPath").val()+"/ajaxSendVC2?msidsn="+$.trim(i.find(".jsMobile").val()),LID.Class.ajaxSend(o,f,c,d,b),g=r,h=setInterval(e,1e3)}}),i.find(".jsMobile").blur(function(c){i.find(".jsErrSystem").removeClass("show"),j=LID.Class.validMobile(a),j&&b($(this).val())}),i.find(".jsPassword").blur(function(b){i.find(".jsErrSystem").removeClass("show"),k=LID.Class.validPasswordHigh(a)}),i.find(".jsPassword2").blur(function(b){i.find(".jsErrSystem").removeClass("show"),l=LID.Class.validPassword2(a)}),i.find(".jsInput_code").blur(function(b){i.find(".jsErrSystem").removeClass("show"),m=LID.Class.validCapture(a)}),i.find(".jsCode").blur(function(b){i.find(".jsErrSystem").removeClass("show"),n=LID.Class.validSMS(a)}),i.find(".jsSubBtn").mousedown(function(a){$(".jsRegistForm").submit()}),i.find(".jsRegistForm").submit(function(b){return q||i.find(".jsMobile").blur(),n=LID.Class.validSMS(a),k=LID.Class.validPasswordHigh(a),l=LID.Class.validPassword2(a),j&&k&&l&&n&&q?v?(b.preventDefault(),!1):void(v=!0):(b.preventDefault(),!1)})},displayEmail:function(a){var b=$("#"+a);b.find(".jsRegEmailTab").click(function(a){a.preventDefault(),$("#ldRegistEmailForm").length>0&&($("#ldRegistMobileForm").hide(),$(".jsRegMobileTab").removeClass("active"),$(".jsRegEmailTab").addClass("active"),$("#ldRegistEmailForm").show())})},displayMobile:function(a){var b=$("#"+a),c=b.find(".jsAction").val(),d=b.find(".jsRealm").val(),e=b.find(".jsCtx").val(),f=b.find(".jsLang").val(),g=b.find(".jsUinfo").val(),h=b.find(".jsCb").val(),i=b.find(".jsVb").val(),j=b.find(".jsDisplay").val(),k=b.find(".jsIdp").val(),l=b.find(".jsSource").val();b.find(".jsRegMobileTab").click(function(a){a.preventDefault(),$("#ldRegistMobileForm").length>0&&($("#ldRegistEmailForm").hide(),$(".jsRegEmailTab").removeClass("active"),$(".jsRegMobileTab").addClass("active"),$("#ldRegistMobileForm").show())}),null==c||"uilogin"!=c&&"newaccount"!=c&&"resetpassword"!=c?document.getElementById("toLogin").href=b.find(".jsPath").val()+"/preLogin":document.getElementById("toLogin").href=b.find(".jsPath").val()+"/preLogin?lenovoid.action="+c+"&lenovoid.realm="+d+"&lenovoid.ctx="+e+"&lenovoid.lang="+f+"&lenovoid.uinfo"+g+"&lenovoid.cb="+h+"&lenovoid.vb="+i+"&lenovoid.display="+j+"&lenovoid.idp="+k+"&lenovoid.source="+l},activeRegist:function(a){var b=$("#"+a),c=b.find(".jsUsername"),d=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/;d.test(c.val())&&(b.find(".jsRegMobileTab").removeClass("active"),b.find(".jsRegEmailTab").addClass("active"),$("#ldRegistMobileForm").hide(),$("#ldRegistEmailForm").show())},registEmailValid:function(a){function b(a){function b(a){d.find(".jsEOk").addClass("ishow"),i=!0}function e(a,b){403==a.status&&(alert(d.find(".jsError403").val()),location.href="/wauthen3/"),d.find(".jsEOk").removeClass("ishow"),d.find(".jsErrEReged").addClass("show"),i=!1}c=d.find(".jsPath").val()+"/ajaxUserExistedServlet?username="+$.trim(a),LID.Class.ajaxSend(h,c,b,e)}var c,d=$("#"+a),e=!1,f=!1,g=!1,h="POST",i=!1,j=!1;d.find(".jsEmail").blur(function(c){d.find(".jsErrSystem").removeClass("show"),e=LID.Class.validEmail(a),e&&b($(this).val())}),d.find(".jsPassword").blur(function(b){d.find(".jsErrSystem").removeClass("show"),f=LID.Class.validPasswordHigh(a)}),d.find(".jsPassword2").blur(function(b){d.find(".jsErrSystem").removeClass("show"),g=LID.Class.validPassword2(a)}),d.find(".jsInput_code").blur(function(b){d.find(".jsErrSystem").removeClass("show"),bCChk=LID.Class.validCapture(a)}),d.find(".jsSubBtn").mousedown(function(a){d.find(".jsRegistEmailForm").submit()}),d.find(".jsRegistEmailForm").submit(function(b){return i||d.find(".jsEmail").blur(),f=LID.Class.validPasswordHigh(a),g=LID.Class.validPassword2(a),bCChk=LID.Class.validCapture(a),e&&f&&g&&bCChk&&i?j?(b.preventDefault(),!1):void(j=!0):(b.preventDefault(),!1)}),LID.Class.setCapture(d),d.find(".jsCReset").click(function(a){LID.Class.setCapture(d)})},registMobileOk:function(a){function b(){0>=f?(clearInterval(setInterval(b,1e3)),c.find(".jsRegistMobileOk").submit()):(d.html(f+"S"+e),f-=1)}var c=$("#"+a),d=c.find(".reg_successful_text4"),e=d.html(),f=3;setInterval(b,1e3)},registEmailOk:function(a){function b(){0>=f&&c.find(".jsRegistEmailOk").submit(),d.html(f+"S"+e),f-=1}var c=$("#"+a),d=c.find(".reg_successful_text4"),e=d.html(),f=3;setInterval(b,1e3)},caNewAccountValid:function(a){function b(a){function b(){d.find(".jsErrExist").removeClass("show"),d.find(".jsOk").addClass("ishow"),k=!0}function g(a,b){403==a.status&&(alert(d.find(".jsError403").val()),location.href="/wauthen3/"),d.find(".jsOk").removeClass("ishow"),d.find(".jsErrExist").addClass("show"),k=!1}if(c=d.find(".jsPath").val()+"/ajaxUserExistedServlet?username="+$.trim(a),!f&&k&&d.find(".jsErrExist").removeClass("show"),i.test($.trim(e))){if(!i.test($.trim(a)))return d.find(".jsOk").removeClass("ishow"),d.find(".jsErrExist").removeClass("show"),d.find(".jsErrEFormat").addClass("show"),!1;LID.Class.ajaxSend(h,c,b,g)}else j.test($.trim(e))&&(j.test($.trim(a))?(d.find(".jsErrMFormat").removeClass("show"),LID.Class.ajaxSend(h,c,b,g)):(d.find(".jsErrExist").removeClass("show"),d.find(".jsErrMFormat").addClass("show"),k=!1))}var c,d=$("#"+a),e=d.find(".jsOusername").val(),f=!1,g=!1,h="POST",i=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/,j=/^[1][34578]\d{9}$/,k=!1,l=!1;window.onload=function(){l=!1},d.find(".jsUsername").blur(function(c){if(d.find(".jsErrSystem").removeClass("show"),f=LID.Class.validUsername(a)){if($.trim($(this).val())==$.trim(e))return d.find(".jsErrOnotN").addClass("show"),d.find(".jsErrExist").removeClass("show"),!1;d.find(".jsErrOnotN").removeClass("show"),b($(this).val())}}),d.find(".jsInput_code").blur(function(b){d.find(".jsErrSystem").removeClass("show"),g=LID.Class.validCapture(a)}),d.find(".jsSubBtn").mousedown(function(a){$(".jsCaNewAccountForm").submit()}),$(".jsCaNewAccountForm").submit(function(b){return g=LID.Class.validCapture(a),f&&g&&k?l?(b.preventDefault(),!1):void(l=!0):(d.find(".jsUsername").blur(),b.preventDefault(),!1)}),LID.Class.setCapture(d),d.find(".jsCReset").click(function(a){LID.Class.setCapture(d)})},caValidAccountValid:function(a){function b(){return f-=1,0>=f?(clearInterval(g),j.html("<span></span>"),void h.find(".jsReSendVC a").show()):(h.find(".jsReSendVC a").hide(),void j.html("<span>"+k+f+"S</span>"))}function c(){function a(a){h.find(".jsVFill").removeClass("show");var b="";b="string"==typeof a?JSON.parse(a):a;var c=b.resultCode;1==c?h.find(".jsErrVFormat").removeClass("show"):(LID.Class.setCapture(h),h.find(".jsInput_code").val(""),h.find(".jsErrVFormat").addClass("show"),clearInterval(g),j.html("<span></span>"),h.find(".jsReSendVC a").show())}function c(a,b){403==a.status&&(alert(h.find(".jsError403").val()),location.href="/wauthen3/"),h.find(".jsVFill").removeClass("show"),LID.Class.setCapture(h),h.find(".jsErrVFormat").removeClass("show"),clearInterval(g),j.html("<span></span>"),h.find(".jsReSendVC a").show()}e="type=4&lpsutgt="+h.find(".lpsutgt").val()+"&serial="+LID.Class.encodeSms()+"&skey="+$(".jsSNum").val()+"&snum="+LID.Class.encodeSms()+"&c="+h.find(".jsInput_code").val()+"&t="+h.find(".jsCInput").val(),n.test(h.find(".nusername").val())?(d=h.find(".jsPath").val()+"/ajaxSendVC2?email="+$.trim(h.find(".nusername").val()),LID.Class.ajaxSend(i,d,a,c,e),f=60,g=setInterval(b,1e3)):o.test(h.find(".nusername").val())&&(d=h.find(".jsPath").val()+"/ajaxSendVC2?msidsn="+$.trim(h.find(".nusername").val()),LID.Class.ajaxSend(i,d,a,c,e),f=60,g=setInterval(b,1e3))}var d,e,f,g,h=$("#"+a),i="POST",j=h.find(".jsCount"),k=j.val(),l=!1,m=!1,n=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/,o=/^[1][34578]\d{9}$/,p=!1,q=!1,r=!1;LID.Class.setCapture(h),h.find(".jsCReset").click(function(a){LID.Class.setCapture(h)}),h.find(".jsReSendVC a").click(function(){return m?(l=LID.Class.validCapture(a))?(h.find(".jsReSendVC a").hide(),void c()):!1:(h.find(".jsVC").addClass("show"),h.find(".jsVFill").addClass("show"),h.find(".jsErrSystem").removeClass("show"),m=!0,!1)}),h.find(".jsCode").blur(function(b){h.find(".jsErrSystem").removeClass("show"),h.find(".jsVFill").removeClass("show"),q=LID.Class.validSMS(a)}),h.find(".jsSubBtn").mousedown(function(a){$(".jsCaValidAccountForm").submit()}),h.find(".jsCaValidAccountForm").submit(function(b){return(q=LID.Class.validSMS(a))?p?(b.preventDefault(),!1):void(p=!0):(r=!0,h.find(".jsCode").blur(),b.preventDefault(),!1)})},caValidSecurityValid:function(a){var b=$("#"+a),c=!1,d=!1;b.find(".jsPassword").blur(function(d){b.find(".jsErrSystem").removeClass("show"),c=LID.Class.validPassword(a)}),b.find(".jsSubBtn").mousedown(function(a){b.find(".jsCaValidSecurityForm").submit()}),b.find(".jsCaValidSecurityForm").submit(function(a){return b.find(".jsPassword").blur(),c?d?(a.preventDefault(),!1):void(d=!0):(a.preventDefault(),!1)})},activeEmail:function(a){function b(){return e-=1,0>=e?(clearInterval(f),g.find(".jsTimeLeft").text(e),g.find(".jsTxtReSend").show(),void g.find(".jsTxtWait").hide()):void g.find(".jsTimeLeft").text(e)}function c(){alert("网络连接超时,请稍后重试...\nConnection Timeout, Please try again later...")}function d(a){}var e,f,g=$("#"+a),h=60,i="POST",j=g.find(".jsPath").val(),k=g.find(".jsUsername").val(),l=g.find(".jsTgt").val(),m=j+"/getActiveCode",n="username="+$.trim(k)+"&lpstgt="+l;g.find("li.jsReSend a").prop("onclick",null),g.find("li.jsReSend a").click(function(a){a.preventDefault(),LID.Class.ajaxSend(i,m,d,c,n),g.find(".jsTxtReSend").hide(),g.find(".jsTxtWait").show(),e=h,g.find(".jsTimeLeft").text(e),f=setInterval(b,1e3)})},activeMobile:function(a){function b(){return f-=1,0>=f?(clearInterval(g),o.val(p),void o.removeAttr("disabled","disabled")):void o.val(p+" "+f)}function c(){alert("网络连接超时,请稍后重试...\nConnection Timeout, Please try again later...")}function d(a){}function e(a){return h.find(".jsErrVEmpty").removeClass("show"),""==$.trim(h.find(".jsVCInput").val())?(h.find(".jsErrVEmpty").addClass("show"),!1):!0}var f,g,h=$("#"+a),i=!1,j=60,k="POST",l=h.find(".jsPath").val(),m=l+"/getActiveCode?username="+$.trim(h.find(".jsUsername").val())+"&lpstgt="+h.find(".jsTgt").val(),n="type=1",o=h.find(".jsVCBtn"),p=o.val(),q=!1;h.find(".jsVCBtn").click(function(a){a.preventDefault(),h.find(".jsOk").removeClass("ishow"),$(this).attr("disabled","disabled"),h.find(".jsVCInput").val(""),LID.Class.ajaxSend(k,m,d,c,n),f=j,g=setInterval(b,1e3)}),h.find(".jsVCInput").blur(function(b){h.find(".jsErrSystem").removeClass("show"),i=e(a)}),h.find(".jsSubBtn").mousedown(function(a){h.find(".jsErrSystem").removeClass("show"),$(".jsActiveMobileAccount").submit()}),h.find(".jsActiveMobileAccount").submit(function(b){return(i=e(a))?q?(b.preventDefault(),!1):void(q=!0):(b.preventDefault(),!1)}),o.attr("disabled","disabled"),f=j,g=setInterval(b,1e3)},chkThirdError:function(a){var b=$("#"+a);b.find(".jsThirdError").length&&alert(b.find(".jsThirdError").val())}},$(window).on("load",function(a){var b=function(a,b){document.getElementById(a)&&b(a)};b("ldHeader",LID.Module.chgLang),b("ldLoginForm",LID.Module.loginValid),b("ldILoginForm",LID.Module.iloginValid),b("ldILoginForm",LID.Module.iloginOther),b("ldLoginForm",LID.Module.displayThirdparty),b("ldLoginForm",LID.Module.addRegisterUrl),b("ldLoginForm",LID.Module.displayQrCode),b("ldLoginForm",LID.Module.crossdomainLogout),b("ldAccInfo",LID.Module.crossdomainLogin),b("ldLoginQrcode",LID.Module.displayLoginForm),b("ldLoginQrcode",LID.Module.displayLightBox),b("ldLightbox",LID.Module.closeLightBox),b("ldAccInfo",LID.Module.chkThirdParty),b("ldAccInfo",LID.Module.chkThirdError),b("ldForgetPass",LID.Module.forgetPassValid),b("ldModAccInfo",LID.Module.modAccInfoValid),b("ldRePassEmail",LID.Module.openUrl),b("ldRePassEmail",LID.Module.reSendEmail),b("ldRePassMobile",LID.Module.validPassMobile),b("ldRePassNew",LID.Module.validRePassNew),b("ldModPass",LID.Module.validModPass),b("ldSaveAccInfo",LID.Module.redirectAcc),b("ldModPassOk",LID.Module.redirectAcc),b("ld3rdLogBind",LID.Module.bindValid),b("ldRegist",LID.Module.displayEmail),b("ldRegist",LID.Module.displayMobile),b("ldRegistMobileForm",LID.Module.registMobileValid),b("ldRegistMobileFormi",LID.Module.iregistMobileValid),b("ldRegistMobileFormi",LID.Module.iregistMobileOther),b("ldRegistEmailForm",LID.Module.registEmailValid),b("ldRegistMobileOkForm",LID.Module.redirectAcc),b("ldRegistEmailOkForm",LID.Module.redirectAcc),b("ldRegistEmailOkForm",LID.Module.openUrl),b("ldCaNewAccountForm",LID.Module.caNewAccountValid),b("ldCaValidAccountForm",LID.Module.caValidAccountValid),b("ldCaValidSecurityForm",LID.Module.caValidSecurityValid),b("ldChangeAccountOkForm",LID.Module.redirectAcc),b("ldActiveEmailAccount",LID.Module.activeEmail),b("ldActiveMobileAccount",LID.Module.activeMobile),b("ldActiveAccountOk",LID.Module.redirectAcc),b("ldRegistMobileForm",LID.Module.displayMobile),b("ldRegistMobileForm",LID.Module.displayEmail),b("ldRegistEmailForm",LID.Module.displayMobile),b("ldRegistEmailForm",LID.Module.displayEmail),b("ldRegist",LID.Module.activeRegist)});